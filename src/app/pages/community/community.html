<!-- Interactive Canvas Background -->
<canvas id="bg-canvas"></canvas>

<div class="community-container">
  <header class="hero-section">
  <button class="join-discussion-top">
    <svg viewBox="0 0 24 24" class="btn-icon" aria-hidden="true">
      <path d="M3 12h4l3 8 4-16 3 8h4" />
    </svg>
    JOIN THE DISCUSSION
  </button>

  <h1>HeatBeasts Community</h1>
  <p>
    Connect with gamers worldwide. Ask questions, share strategies, and level up together
    in India's most active gaming community.
  </p>
 

  <div class="stats-container">
    @for (s of stats; track s.label) {
      <div class="stat-card">
        <h2>{{ s.value }}</h2>
        <p>{{ s.label }}</p>
      </div>
    }
  </div>
</header>


  <!-- FILTERS (clickable, with icons) -->
  <div class="filters" role="tablist" aria-label="Post filters">
  <button [class.active]="activeFilter==='trending'"   (click)="setFilter('trending')"   role="tab" class="filter-btn">
    <svg class="btn-icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M3 12h4l3 8 4-16 3 8h4"/></svg>
    <span>Trending</span>
  </button>

  <button [class.active]="activeFilter==='new'"        (click)="setFilter('new')"        role="tab" class="filter-btn">
    <svg class="btn-icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 3v18M5 10l7-7 7 7"/></svg>
    <span>New Releases</span>
  </button>

  <button [class.active]="activeFilter==='discussed'"  (click)="setFilter('discussed')"  role="tab" class="filter-btn">
    <svg class="btn-icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M21 15a4 4 0 0 1-4 4H8l-5 3V7a4 4 0 0 1 4-4h10a4 4 0 0 1 4 4"/></svg>
    <span>Most Discussed</span>
  </button>

  <button [class.active]="activeFilter==='upvoted'"    (click)="setFilter('upvoted')"    role="tab" class="filter-btn">
    <svg class="btn-icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 4l6 8h-4v8h-4v-8H6z"/></svg>
    <span>Most Upvoted</span>
  </button>

  <button [class.active]="activeFilter==='viewed'"     (click)="setFilter('viewed')"     role="tab" class="filter-btn">
    <svg class="btn-icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M2 12s4-7 10-7 10 7 10 7-4 7-10 7S2 12 2 12zm10 3a3 3 0 1 0 0-6 3 3 0 0 0 0 6"/></svg>
    <span>Most Viewed</span>
  </button>

  <button [class.active]="activeFilter==='unanswered'" (click)="setFilter('unanswered')" role="tab" class="filter-btn">
    <svg class="btn-icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M6 8h12M6 12h7M4 20l3-3h11a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v14z"/></svg>
    <span>Unanswered</span>
  </button>
</div>

<section class="posts">
  <!-- NOTE: use filteredPosts (not posts) -->
  @for (post of filteredPosts; track post.title) {
    <div class="post-card">
      <div class="post-header">
        <div class="user">{{ post.user }}</div>
        <div class="time">{{ post.time }}</div>
      </div>
      <h3>{{ post.title }}</h3>
      <p>{{ post.content }}</p>

      <div class="tags">
        @for (tag of post.tags; track tag) {
          <span>{{ tag }}</span>
        }
      </div>

      <div class="post-stats">
        <div>üëç {{ post.likes }}</div>
        <div>üí¨ {{ post.comments }}</div>
        <div>üëÅÔ∏è {{ post.views }}</div>
      </div>
    </div>
  }
</section>

<aside class="sidebar">
  <h3>Top Questers</h3>
  <ul>
    @for (q of topQuesters; track q.name) {
      <li>
        <div>
          <strong>{{ q.name }}</strong>
          <p>{{ q.title }}</p>
        </div>
        <span>{{ q.score }}</span>
      </li>
    }
  </ul>
  <button class="view-all">View Full Leaderboard</button>
</aside>
</div>
